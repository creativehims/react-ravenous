(this.webpackJsonpravenous=this.webpackJsonpravenous||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),r=n.n(c),a=n(8),i=n.n(a),o=(n(14),n(3)),u=n.n(o),l=n(4),j=n(5),h=(n(16),n(17),n(18),function(e){var t=e.business,n=t.imageSrc,c=t.name,r=t.address,a=t.city,i=t.state,o=t.zipCode,u=t.category,l=t.rating,j=t.reviewCount;return Object(s.jsxs)("div",{className:"Business",children:[Object(s.jsx)("div",{className:"image-container",children:Object(s.jsx)("img",{src:n,alt:c})}),Object(s.jsx)("h2",{children:c}),Object(s.jsxs)("div",{className:"Business-information",children:[Object(s.jsxs)("div",{className:"Business-address",children:[Object(s.jsx)("p",{children:r}),Object(s.jsx)("p",{children:a}),Object(s.jsxs)("p",{children:[i," ",o]})]}),Object(s.jsxs)("div",{className:"Business-reviews",children:[Object(s.jsx)("h3",{children:u}),Object(s.jsxs)("h3",{className:"rating",children:[l," stars"]}),Object(s.jsxs)("p",{children:[j," reviews"]})]})]})]})}),b=function(e){return Object(s.jsx)("div",{className:"BusinessList",children:e.businesses&&e.businesses.map((function(e){return Object(s.jsx)(h,{business:e},e.id)}))})},d=n(2),f=(n(19),{"Best Match":"best_match","Highest Rated":"rating","Most Reviewed":"review_count"}),p=function(e){var t=e.searchYelp,n=Object(c.useState)({term:"",location:"",sortBy:"best_match"}),r=Object(j.a)(n,2),a=r[0],i=r[1];Object(c.useEffect)((function(){t(a.term,a.location,a.sortBy)}),[a]);var o=function(e){return e===a.sortBy?"active":""};return Object(s.jsxs)("div",{className:"SearchBar",children:[Object(s.jsx)("div",{className:"SearchBar-sort-options",children:Object(s.jsx)("ul",{children:Object.keys(f).map((function(e){var t=f[e];return Object(s.jsx)("li",{className:o(t),onClick:function(){return function(e){i((function(t){return Object(d.a)(Object(d.a)({},t),{},{sortBy:e})}))}(t)},children:e},t)}))})}),Object(s.jsxs)("div",{className:"SearchBar-fields",children:[Object(s.jsx)("input",{placeholder:"Search Businesses",onChange:function(e){i((function(t){return Object(d.a)(Object(d.a)({},t),{},{term:e.target.value})}))}}),Object(s.jsx)("input",{placeholder:"Where?",onChange:function(e){i((function(t){return Object(d.a)(Object(d.a)({},t),{},{location:e.target.value})}))}})]})]})};n(20).config();var O={search:function(e,t,n){return Object(l.a)(u.a.mark((function s(){var c,r;return u.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e,"&location=").concat(t,"&sort_by=").concat(n),{headers:{Authorization:"Bearer ".concat("TwUknZGWGwHerVxHzZpYa2pSgfORdW1eolWnJtxtCBV1TmESGNMuGIp4Bf4bE7aiWVQGnydj8Uhl4sfE5W9SODEQxXNJlvLJh4s5dTKZsHBzpnuIJNLj6n4hlIztX3Yx")}});case 3:if(!(c=s.sent).ok){s.next=11;break}return s.next=7,c.json();case 7:if(r=s.sent,console.log(r),!r.businesses){s.next=11;break}return s.abrupt("return",r.businesses.filter(Boolean).map((function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,address:e.location.address1,city:e.location.city,state:e.location.state,zipCode:e.location.zip_code,category:e.categories[0].title,rating:e.rating,reviewCount:e.review_count}})));case 11:s.next=16;break;case 13:s.prev=13,s.t0=s.catch(0),console.log(s.t0);case 16:case"end":return s.stop()}}),s,null,[[0,13]])})))()}},x=function(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),n=t[0],r=t[1],a=function(){var e=Object(l.a)(u.a.mark((function e(t,n,s){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t&&n&&s,!e.t0){e.next=5;break}return e.next=4,O.search(t,n,s);case 4:e.t0=e.sent;case 5:(c=e.t0)&&console.log("Searching Yelp with ".concat(t,", ").concat(n,", ").concat(s)),r(c);case 8:case"end":return e.stop()}}),e)})));return function(t,n,s){return e.apply(this,arguments)}}();return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("h1",{children:"ravenous"}),Object(s.jsx)(p,{searchYelp:a}),Object(s.jsx)(b,{businesses:n})]})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,24)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),r(e),a(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),v()}},[[23,1,2]]]);
//# sourceMappingURL=main.d8228b57.chunk.js.map